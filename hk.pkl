amends "package://github.com/jdx/hk/releases/download/v1.2.0/hk@1.2.0#/Config.pkl"

hooks {
    ["pre-commit"] {
        stash = "git"
        steps {
            ["gitleaks"] {
                check = "gitleaks protect --staged --verbose"
                exclusive = true
            }
            ["test"] {
                glob = List("dot_*/**", "bootstrap.sh", "test.sh", "mise.toml", "hk.pkl")
                check = "command -v docker >/dev/null 2>&1 && mise run test || echo 'Skipping test (Docker not available)'"
                exclusive = true
            }
        }
    }
}
